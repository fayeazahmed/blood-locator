(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,a){e.exports=a(56)},35:function(e,t,a){},37:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),l=a.n(o),c=(a(35),a(12)),u=a(8),s=a.n(u),i=a(13),m=a(5),d=(a(37),a(15)),f=a(10),p=a.n(f);function b(e){var t=e.submitForm,a=e.closeButton,o=Object(n.useState)(""),l=Object(m.a)(o,2),c=l[0],u=l[1],s=Object(n.useState)(""),i=Object(m.a)(s,2),d=i[0],f=i[1],p=Object(n.useState)(""),b=Object(m.a)(p,2),E=b[0],v=b[1],O=Object(n.useState)(""),h=Object(m.a)(O,2),g=h[0],j=h[1],N=Object(n.useState)(""),y=Object(m.a)(N,2),k=y[0],w=y[1];return r.a.createElement("form",{onClick:function(e){return e.stopPropagation()},className:"donor-form",onSubmit:function(e){e.preventDefault(),t(c,d,E,g,k)}},r.a.createElement("i",{className:"fa fa-times-circle btn btn-sm btn-danger",style:{float:"right",cursor:"pointer",fontSize:20,borderRadius:10},"aria-hidden":"true",onClick:a}),r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{onChange:function(e){return u(e.target.value)},value:c,type:"text",id:"name",className:"form-control",required:!0}),r.a.createElement("label",{htmlFor:"bg"},"Blood group:"),r.a.createElement("select",{onChange:function(e){return f(e.target.value)},name:"bg",id:"bg",defaultValue:"A+",className:"form-control"},r.a.createElement("option",{value:"A+"},"A+"),r.a.createElement("option",{value:"A-"},"A-"),r.a.createElement("option",{value:"B+"},"B+"),r.a.createElement("option",{value:"B-"},"B-"),r.a.createElement("option",{value:"O+"},"O+"),r.a.createElement("option",{value:"O-"},"O-"),r.a.createElement("option",{value:"AB+"},"AB+"),r.a.createElement("option",{value:"AB-"},"AB-")),r.a.createElement("label",{htmlFor:"address"},"Address:"),r.a.createElement("input",{onChange:function(e){return v(e.target.value)},value:E,type:"text",id:"address",className:"form-control",required:!0}),r.a.createElement("label",{htmlFor:"contact"},"Contact info:"),r.a.createElement("input",{onChange:function(e){return j(e.target.value)},value:g,type:"text",id:"contact",className:"form-control",required:!0}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:function(e){return w(e.target.value)},value:k,type:"password",id:"password",className:"form-control",required:!0}),r.a.createElement("small",{className:"d-block text-left"},"Add a password to delete your entry later"),r.a.createElement("button",{className:"btn btn-block btn-success my-3"},"Add me!"))}function E(e){var t=e.handleBloodGroup,a=Object(n.useState)(!1),o=Object(m.a)(a,2),l=o[0],u=o[1];return r.a.createElement("div",Object(c.a)({onClick:function(e){return e.stopPropagation()},className:"nav-class d-flex justify-content-between"},"onClick",(function(){return u(!1)})),r.a.createElement("div",null,r.a.createElement("p",{className:"m-0 text-left"},"*Zoom in to your location and double click"),r.a.createElement("p",{className:"m-0 text-left ml-3"},"OR"),r.a.createElement("p",{className:"m-0 text-left"},"*Click the locator to add your entry (",r.a.createElement("i",null,"more accurate)"))),r.a.createElement("div",{className:"text-left ml-2"},r.a.createElement("h4",null,"Search for blood:"),r.a.createElement("select",{onChange:function(e){return t(e.target.value)},name:"bloodGroupSelector",id:"bloodGroupSelector",defaultValue:"B+",className:"form-control"},r.a.createElement("option",{value:"A+"},"A+"),r.a.createElement("option",{value:"A-"},"A-"),r.a.createElement("option",{value:"B+"},"B+"),r.a.createElement("option",{value:"B-"},"B-"),r.a.createElement("option",{value:"O+"},"O+"),r.a.createElement("option",{value:"O-"},"O-"),r.a.createElement("option",{value:"AB+"},"AB+"),r.a.createElement("option",{value:"AB-"},"AB-"))),r.a.createElement("div",{className:"position-relative"},r.a.createElement("button",{className:"btn btn-lg btn-outline-info",onClick:function(e){e.stopPropagation(),u(!l)}},r.a.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"})),l&&r.a.createElement("p",{className:"info-div"},"As this was just made for learning purposes, all the info that are here right now can't be verified. Information are added by users themselves. If you are up for giving blood, you can add your entry.")))}function v(e){var t=e.donor,a=e.handleEntryDelete,o=t._id,l=t.name,c=t.bloodGroup,u=t.address,s=t.contact,i=Object(n.useState)(!1),d=Object(m.a)(i,2),f=d[0],b=d[1],E=Object(n.useState)(""),v=Object(m.a)(E,2),O=v[0],h=v[1],g=Object(n.useState)(!1),j=Object(m.a)(g,2),N=j[0],y=j[1];return r.a.createElement("div",{className:"donor-info"},r.a.createElement("p",{className:"text-left"},l),r.a.createElement("p",{className:"text-left text-danger"},r.a.createElement("strong",null,c)),r.a.createElement("p",{className:"text-left"},u),r.a.createElement("p",{className:"text-left"},r.a.createElement("i",null,s)),r.a.createElement("div",{className:"position-relative overflow-hidden"},r.a.createElement("button",{onClick:function(){return b(!0)},className:"btn btn-sm btn-block btn-danger"},"Delete Entry"),f&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p.a.post("/api/blood/delete/".concat(o),{password:O}).then((function(){return a()})).catch((function(e){h(""),y(!0),setTimeout((function(){y(!1)}),2e3)}))}},r.a.createElement("input",{type:"password",name:"password",value:O,className:"password-input form-control",onChange:function(e){return h(e.target.value)}})),N&&r.a.createElement("div",{className:"alert-danger mt-2 p-1"},r.a.createElement("small",{className:"d-block text-left"},"Wrong password"),r.a.createElement("small",{className:"d-block text-left"},"Don't mess around"))))}var O="pk.eyJ1IjoiZmF5ZWF6YWhtZWQiLCJhIjoiY2tjYW5paHF2MWtsMjJycWVkMzB2YzAwcyJ9.ZuCDw7Z9JflJotaK8TRLhQ",h=function(){var e=Object(n.useState)({width:"100vw",height:"100vh",latitude:23.770885,longitude:90.3949981,zoom:15}),t=Object(m.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(null),u=Object(m.a)(l,2),f=u[0],h=u[1],g=Object(n.useState)(!1),j=Object(m.a)(g,2),N=j[0],y=j[1],k=Object(n.useState)(!1),w=Object(m.a)(k,2),x=w[0],A=w[1],S=Object(n.useState)(null),B=Object(m.a)(S,2),C=B[0],F=B[1],D=Object(n.useState)(null),G=Object(m.a)(D,2),J=G[0],W=G[1],Z=Object(n.useState)("B+"),L=Object(m.a)(Z,2),I=L[0],T=L[1],q=Object(n.useState)({}),z=Object(m.a)(q,2),M=z[0],P=z[1],V=Object(n.useState)(0),Y=Object(m.a)(V,2),_=Y[0],R=Y[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/blood/");case 2:t=e.sent,h(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x,_]);var H=function(){var e=Object(i.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!N),F(t),W(a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){R(_+1)},K=function(){var e=Object(i.a)(s.a.mark((function e(t,a,n,r,o){var l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={name:t,bloodGroup:a,address:n,contact:r,password:o,latitude:C,longitude:J},e.next=3,p.a.post("/api/blood/",l);case 3:y(!1),A(!0),setTimeout((function(){A(!1)}),2500);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(E,{handleBloodGroup:function(e){T(e),y(!1)}}),r.a.createElement(d.c,Object.assign({mapboxApiAccessToken:O},a,{onViewportChange:o,onClick:function(){return P({})},onDblClick:function(e){return H(e.lngLat[1],e.lngLat[0])},doubleClickZoom:!1}),x?r.a.createElement("div",{className:"success-alert"},r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),r.a.createElement("span",null,"Submitted successfully!")):null,N&&r.a.createElement(b,{submitForm:K,closeButton:function(){return y(!1)}}),r.a.createElement(d.a,{style:{float:"left",margin:"120px 50px",padding:"10px"},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!1,onGeolocate:function(e){return H(e.coords.latitude,e.coords.longitude)}}),f?f.map((function(e){return e.bloodGroup===I?r.a.createElement(d.b,{latitude:e.latitude,longitude:e.longitude,offsetLeft:-20,offsetTop:-10,key:e._id},r.a.createElement("i",{onClick:function(){return P(Object(c.a)({},e._id,!0))},className:"fa fa-tint fa-2x text-danger",style:{cursor:"pointer"},"aria-hidden":"true"}),!0===M[e._id]?r.a.createElement(v,{handleEntryDelete:Q,donor:e}):null):null})):null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.a677d7c3.chunk.js.map